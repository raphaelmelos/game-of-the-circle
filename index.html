<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Jogo do C√≠rculo</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #222;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        canvas {
            background: #fff;
            border: 3px solid #444;
            display: none;
        }

        .screen {
            text-align: center;
        }

        button {
            padding: 12px 25px;
            font-size: 20px;
            cursor: pointer;
            border-radius: 8px;
            border: none;
            background: #4CAF50;
            color: white;
        }

        h1 {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<!-- Tela de in√≠cio -->
<div id="start-screen" class="screen">
    <h1>Jogo do C√≠rculo</h1>
    <button onclick="startGame()">Come√ßar</button>
</div>

<!-- Tela de fim -->
<div id="end-screen" class="screen" style="display:none;">
    <h1 id="end-message"></h1>
    <button onclick="reloadGame()">Jogar de Novo</button>
</div>

<!-- Canvas do jogo -->
<canvas id="game" width="400" height="400"></canvas>

<!-- Sons -->
<audio id="hit-sound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="fail-sound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

<script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    const hitSound = document.getElementById("hit-sound");
    const failSound = document.getElementById("fail-sound");

    let circle = { x: 200, y: 200, radius: 40 };
    let gameInterval;
    let timeLeft = 10;
    let gameRunning = false;

    function startGame() {
        document.getElementById("start-screen").style.display = "none";
        canvas.style.display = "block";

        gameRunning = true;
        timeLeft = 10;

        // Atualiza a cada 1 segundo
        gameInterval = setInterval(gameLoop, 1000);

        drawCircle();
    }

    function gameLoop() {
        timeLeft--;

        moveCircle();
        drawCircle();

        if (timeLeft <= 0) {
            endGame(false);
        }
    }

    function moveCircle() {
        circle.x = Math.random() * (canvas.width - 80) + 40;
        circle.y = Math.random() * (canvas.height - 80) + 40;
    }

    function drawCircle() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Contador de tempo
        ctx.font = "20px Arial";
        ctx.fillStyle = "black";
        ctx.fillText("Tempo: " + timeLeft, 10, 30);

        // C√≠rculo animado (pulsa)
        ctx.beginPath();
        ctx.arc(circle.x, circle.y, circle.radius, 0, Math.PI * 2);
        ctx.fillStyle = "blue";
        ctx.shadowBlur = 15;
        ctx.shadowColor = "rgba(0, 0, 255, 0.5)";
        ctx.fill();
        ctx.shadowBlur = 0;
    }

    // Clique no canvas
    canvas.addEventListener("click", (event) => {
        if (!gameRunning) return;

        const rect = canvas.getBoundingClientRect();
        const mouseX = event.clientX - rect.left;
        const mouseY = event.clientY - rect.top;

        const dist = Math.sqrt((mouseX - circle.x)**2 + (mouseY - circle.y)**2);

        if (dist <= circle.radius) {
            hitSound.play();
            endGame(true);
        }
    });

    function endGame(victory) {
        gameRunning = false;
        clearInterval(gameInterval);

        canvas.style.display = "none";
        document.getElementById("end-screen").style.display = "block";

        if (victory) {
            document.getElementById("end-message").innerText = "üéâ Voc√™ acertou!";
        } else {
            document.getElementById("end-message").innerText = "‚ùå O tempo acabou!";
            failSound.play();
        }
    }

    function reloadGame() {
        location.reload();
    }
</script>

</body>
</html>
